(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},91432,e=>{"use strict";var t=e.i(43476),r=e.i(71645),u=e.i(18566),o=e.i(17595),s=e.i(54858);let n=(0,r.createContext)(void 0);function i({children:e}){let[i,a]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),d=(0,u.useRouter)();(0,r.useEffect)(()=>{o.default.get("token")?s.auth.me().then(a).catch(()=>{o.default.remove("token")}).finally(()=>c(!1)):c(!1)},[]);let h=async(e,t)=>{try{let r=await s.auth.login(e,t);return o.default.set("token",r.jwt),a(r.user),d.push("/admin/dashboard"),{success:!0}}catch(e){return{success:!1,error:e.response?.data?.error?.message||"Login failed"}}};return(0,t.jsx)(n.Provider,{value:{user:i,loading:l,login:h,logout:()=>{o.default.remove("token"),a(null),d.push("/admin/login")}},children:e})}function a(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>i,"useAuth",()=>a])}]);