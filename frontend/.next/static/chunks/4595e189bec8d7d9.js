(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85851,70119,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(18566),t=e.i(91432),l=e.i(21101);function i({children:e}){let{user:i,loading:d}=(0,t.useAuth)(),n=(0,s.useRouter)();return((0,r.useEffect)(()=>{d||i||n.push("/admin/login")},[i,d,n]),d)?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",style:{backgroundImage:`
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
        `},children:(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-12 text-center",children:[(0,a.jsx)(l.LoadingSpinner,{className:"mx-auto mb-4 text-primary",size:48}),(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading..."})]})}):i?(0,a.jsx)(a.Fragment,{children:e}):null}e.s(["default",()=>i],85851),e.s(["default",0,()=>{let{user:e,logout:r}=(0,t.useAuth)();return(0,a.jsx)("header",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-lg shadow-slate-200/20 sticky top-0 z-50",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-primary drop-shadow-sm",children:"Radial Code"}),(0,a.jsx)("span",{className:"ml-4 text-slate-600 font-medium bg-slate-100/50 px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:"Admin Portal"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-slate-700 font-medium bg-white/60 px-4 py-2 rounded-lg backdrop-blur-sm shadow-sm",children:["Welcome, ",e?.username||e?.email]}),(0,a.jsx)("button",{onClick:r,className:"bg-primary/90 text-white px-6 py-2 rounded-lg hover:bg-primary transition-all duration-300 shadow-lg shadow-primary/20 hover:shadow-primary/30 backdrop-blur-sm transform hover:-translate-y-0.5 font-medium",children:"Logout"})]})]})})})}],70119)},89872,e=>{"use strict";var a=e.i(43476),r=e.i(71645),s=e.i(18566),t=e.i(53145),l=e.i(85851),i=e.i(70119),d=e.i(80204),n=e.i(54858),c=e.i(21101);function o({params:e}){let[l,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[u,p]=(0,r.useState)(null),[h,b]=(0,r.useState)(""),g=(0,s.useRouter)(),{register:j,handleSubmit:f,control:w,formState:{errors:N},setValue:v}=(0,t.useForm)();(0,r.useEffect)(()=>{e.then(({id:e})=>b(e))},[e]);let y=(0,r.useCallback)(async()=>{if(h)try{let e=(await n.programs.getAll()).data.find(e=>e.id===parseInt(h));e&&(p(e),v("name",e.attributes.name),v("date",e.attributes.date),v("venue",e.attributes.venue),v("description",e.attributes.description))}catch(e){console.error("Error loading program:",e)}},[h,v]);(0,r.useEffect)(()=>{h&&y()},[h,y]);let k=async e=>{if(u){o(!0),x("");try{let a=e.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");await n.programs.update(u.id,{...e,slug:a}),g.push("/admin/dashboard")}catch(e){x(e.response?.data?.error?.message||"Error updating program")}finally{o(!1)}}};return u?(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",style:{backgroundImage:`
        radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
      `},children:[(0,a.jsx)(i.default,{}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-white/30",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(c.PencilIcon,{className:"text-primary mr-3",size:32}),(0,a.jsx)("h1",{className:"text-4xl font-bold text-primary drop-shadow-sm",children:"Edit Program"})]}),(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"Update the program details and settings"})]})}),(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-8",children:[m&&(0,a.jsxs)("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200/50 text-red-700 px-6 py-4 rounded-xl mb-6 shadow-lg shadow-red-100/50",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)(c.XCircleIcon,{className:"text-red-600 mr-2",size:20}),(0,a.jsx)("div",{className:"font-semibold",children:"Error"})]}),(0,a.jsx)("p",{children:m})]}),(0,a.jsxs)("form",{onSubmit:f(k),children:[(0,a.jsx)(d.Input,{label:"Program Name",name:"name",register:j,errors:N,required:!0}),(0,a.jsx)(d.DateTimeInput,{label:"Program Date & Time",name:"date",control:w,errors:N,required:!0}),(0,a.jsx)(d.Input,{label:"Venue",name:"venue",register:j,errors:N,required:!0}),(0,a.jsx)(d.Textarea,{label:"Description",name:"description",register:j,errors:N,required:!0,rows:6}),(0,a.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,a.jsx)(d.Button,{type:"submit",disabled:l,className:"flex items-center",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.BoltIcon,{className:"mr-2",size:20}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.RocketIcon,{className:"mr-2",size:20}),"Update Program"]})}),(0,a.jsxs)(d.Button,{variant:"secondary",onClick:()=>g.push("/admin/dashboard"),className:"flex items-center",children:[(0,a.jsx)(c.ArrowLeftIcon,{className:"mr-2",size:16}),"Cancel"]})]})]})]})]})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",style:{backgroundImage:`
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
        `},children:[(0,a.jsx)(i.default,{}),(0,a.jsx)("div",{className:"max-w-4xl mx-auto py-16 px-4",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-12 max-w-sm mx-auto",children:[(0,a.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"âš¡"}),(0,a.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading program details..."})]})})})]})}function m({params:e}){return(0,a.jsx)(l.default,{children:(0,a.jsx)(o,{params:e})})}e.s(["default",()=>m])}]);