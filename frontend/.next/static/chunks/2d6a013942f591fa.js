(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,85851,70119,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(91432),i=e.i(21101);function l({children:e}){let{user:l,loading:n}=(0,r.useAuth)(),c=(0,s.useRouter)();return((0,a.useEffect)(()=>{n||l||c.push("/admin/login")},[l,n,c]),n)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",style:{backgroundImage:`
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
        `},children:(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-12 text-center",children:[(0,t.jsx)(i.LoadingSpinner,{className:"mx-auto mb-4 text-primary",size:48}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading..."})]})}):l?(0,t.jsx)(t.Fragment,{children:e}):null}e.s(["default",()=>l],85851),e.s(["default",0,()=>{let{user:e,logout:a}=(0,r.useAuth)();return(0,t.jsx)("header",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-lg shadow-slate-200/20 sticky top-0 z-50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-primary drop-shadow-sm",children:"Radial Code"}),(0,t.jsx)("span",{className:"ml-4 text-slate-600 font-medium bg-slate-100/50 px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:"Admin Portal"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("span",{className:"text-slate-700 font-medium bg-white/60 px-4 py-2 rounded-lg backdrop-blur-sm shadow-sm",children:["Welcome, ",e?.username||e?.email]}),(0,t.jsx)("button",{onClick:a,className:"bg-primary/90 text-white px-6 py-2 rounded-lg hover:bg-primary transition-all duration-300 shadow-lg shadow-primary/20 hover:shadow-primary/30 backdrop-blur-sm transform hover:-translate-y-0.5 font-medium",children:"Logout"})]})]})})})}],70119)},10160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},36108,e=>{"use strict";var t=e.i(43476),a=e.i(71645);e.s(["default",0,({tabs:e,defaultTab:s})=>{let[r,i]=(0,a.useState)(s||e[0]?.id);return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"border-b border-slate-200/50 bg-slate-50/30 rounded-t-xl backdrop-blur-sm",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-2 p-2",children:e.map(e=>(0,t.jsx)("button",{onClick:()=>i(e.id),className:`py-3 px-6 rounded-lg font-semibold text-sm transition-all duration-300 backdrop-blur-sm ${r===e.id?"bg-primary/90 text-white shadow-lg shadow-primary/20 transform -translate-y-0.5":"text-slate-600 hover:text-primary hover:bg-white/60 hover:shadow-md transform hover:-translate-y-0.5"}`,children:e.label},e.id))})}),(0,t.jsx)("div",{className:"mt-8 p-2",children:e.find(e=>e.id===r)?.content})]})}])},28544,e=>{"use strict";var t=e.i(43476);e.s(["default",0,({headers:e,children:a})=>(0,t.jsx)("div",{className:"overflow-x-auto rounded-xl shadow-lg shadow-slate-200/50",children:(0,t.jsxs)("table",{className:"min-w-full bg-white/80 backdrop-blur-sm border border-slate-200/50",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"bg-slate-50/80 backdrop-blur-sm border-b border-slate-200/50",children:e.map((e,a)=>(0,t.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider border-r border-slate-200/30 last:border-r-0 text-nowrap",children:e},a))})}),(0,t.jsx)("tbody",{className:"bg-white/60 backdrop-blur-sm divide-y divide-slate-200/30",children:a})]})})])},87467,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(85851),i=e.i(70119),l=e.i(36108),n=e.i(28544),c=e.i(80204),d=e.i(54858),o=e.i(28878);function m({params:e}){let[r,m]=(0,a.useState)(null),[x,u]=(0,a.useState)([]),[b,p]=(0,a.useState)([]),[h,g]=(0,a.useState)(!0),[f,y]=(0,a.useState)(""),j=(0,s.useRouter)();(0,a.useEffect)(()=>{e.then(({id:e})=>y(e))},[e]);let w=(0,a.useCallback)(async()=>{if(f)try{let[e,t,a]=await Promise.all([d.programs.getAll(),d.students.getByProgram(parseInt(f)),d.certificates.getByProgram(parseInt(f))]),s=e.data.find(e=>e.id===parseInt(f));m(s),u(t.data),p(a.data)}catch(e){console.error("Error loading data:",e)}finally{g(!1)}},[f]);(0,a.useEffect)(()=>{f&&w()},[f,w]);let N=async e=>{if(confirm("Are you sure you want to delete this student?"))try{await d.students.delete(e),w()}catch(e){console.error("Error deleting student:",e),alert("Error deleting student")}},v=async e=>{if(r)try{let t=(0,o.generateUniqueId)(),a=await (0,o.generateCertificate)(e.attributes.name,r.attributes.name,r.attributes.date,r.attributes.venue,t);await d.certificates.create({student:e.id,program:r.id,uniqueId:t,isActive:!1});let s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download=`certificate-${e.attributes.name}-${t}.pdf`,i.click(),URL.revokeObjectURL(s),w()}catch(e){console.error("Error generating certificate:",e),alert("Error generating certificate")}},k=async e=>{try{await d.certificates.update(e.id,{isActive:!e.attributes.isActive}),w()}catch(e){console.error("Error updating certificate:",e),alert("Error updating certificate")}},S=async()=>{if(r)try{let e="Ready"===r.attributes.certificateStatus?"Not Ready":"Ready";await d.programs.update(r.id,{certificateStatus:e}),w()}catch(e){console.error("Error updating program certificate status:",e),alert("Error updating certificate status")}};if(h||!r)return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50",style:{backgroundImage:`
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
        `},children:[(0,t.jsx)(i.default,{}),(0,t.jsx)("div",{className:"max-w-7xl mx-auto py-16 px-4",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-12 max-w-sm mx-auto",children:[(0,t.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"âš¡"}),(0,t.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading program management..."})]})})})]});let C=[{id:"students",label:"Student List",content:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-primary",children:["Registered Students (",x.length,")"]}),(0,t.jsx)(c.Button,{onClick:()=>{let e=new Blob([[["Name","Email","Phone","College","Course","Submitted On"],...x.map(e=>[e.attributes.name,e.attributes.email,e.attributes.phone,e.attributes.college,e.attributes.course,new Date(e.attributes.submittedOn).toLocaleDateString()])].map(e=>e.join(",")).join("\n")],{type:"text/csv"}),t=URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=`students-${r?.attributes.name}-${Date.now()}.csv`,a.click(),URL.revokeObjectURL(t)},children:"Export CSV"})]}),0===x.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No students registered yet."}):(0,t.jsx)(n.default,{headers:["Name","Email","Phone","College","Course","Submitted On","Actions"],children:x.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.attributes.name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.attributes.email}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.attributes.phone}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.attributes.college}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.attributes.course}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.attributes.submittedOn).toLocaleDateString()}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,t.jsx)(c.Button,{variant:"secondary",className:"text-xs",onClick:()=>v(e),children:"Generate Certificate"}),(0,t.jsx)(c.Button,{variant:"danger",className:"text-xs",onClick:()=>N(e.id),children:"Delete"})]})]},e.id))})]})},{id:"certificates",label:"Certificates",content:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-primary mb-4",children:"Certificate Management"}),0===b.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No certificates generated yet."}):(0,t.jsx)(n.default,{headers:["Student","Certificate ID","Status","Generated On","Actions"],children:b.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.attributes.student.data.attributes.name}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:e.attributes.uniqueId}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.attributes.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.attributes.isActive?"Active":"Inactive"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.attributes.createdAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,t.jsx)(c.Button,{variant:e.attributes.isActive?"danger":"primary",className:"text-xs",onClick:()=>k(e),children:e.attributes.isActive?"Deactivate":"Activate"})})]},e.id))})]})},{id:"settings",label:"Settings",content:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-primary mb-4",children:"Program Settings"}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Program Name"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.attributes.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(r.attributes.date).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Venue"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.attributes.venue})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Public URL"}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-primary font-mono",children:["/program/",r.attributes.slug]})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:r.attributes.description})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,t.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Certificate Status"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Current Status:",(0,t.jsx)("span",{className:`ml-2 inline-flex px-3 py-1 text-xs font-bold rounded-full ${"Ready"===r.attributes.certificateStatus?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:r.attributes.certificateStatus})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Ready"===r.attributes.certificateStatus?"Students can download their certificates from the public portal.":'Students will see "Certificates Not Ready" on the public portal.'})]}),(0,t.jsx)(c.Button,{variant:"Ready"===r.attributes.certificateStatus?"danger":"primary",onClick:S,children:"Ready"===r.attributes.certificateStatus?"Disable Certificates":"Enable Certificates"})]})]})]})}];return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50",style:{backgroundImage:`
        radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
      `},children:[(0,t.jsx)(i.default,{}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-white/30 flex-1 mr-6",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-primary drop-shadow-sm mb-2",children:r.attributes.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 text-slate-600",children:[(0,t.jsxs)("span",{className:"bg-slate-100/70 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm",children:["ðŸ“… ",new Date(r.attributes.date).toLocaleDateString()]}),(0,t.jsxs)("span",{className:"bg-slate-100/70 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm",children:["ðŸ“ ",r.attributes.venue]})]})]}),(0,t.jsx)(c.Button,{variant:"secondary",onClick:()=>j.push("/admin/dashboard"),children:"â† Back to Dashboard"})]})}),(0,t.jsx)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-8",children:(0,t.jsx)(l.default,{tabs:C})})]})]})}function x({params:e}){return(0,t.jsx)(r.default,{children:(0,t.jsx)(m,{params:e})})}e.s(["default",()=>x])},48503,e=>{e.v(t=>Promise.all(["static/chunks/01095d914547b2b6.js"].map(t=>e.l(t))).then(()=>t(15833)))},70653,e=>{e.v(t=>Promise.all(["static/chunks/e5fc078ec0a7a4c7.js"].map(t=>e.l(t))).then(()=>t(24154)))},95111,e=>{e.v(t=>Promise.all(["static/chunks/cca5a266ceb00b0d.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);