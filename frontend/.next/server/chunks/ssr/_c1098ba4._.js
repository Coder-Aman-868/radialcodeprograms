module.exports=[47996,38679,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(21937),f=a.i(99361);function g({children:a}){let{user:g,loading:h}=(0,e.useAuth)(),i=(0,d.useRouter)();return((0,c.useEffect)(()=>{h||g||i.push("/admin/login")},[g,h,i]),h)?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",style:{backgroundImage:`
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
        `},children:(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-12 text-center",children:[(0,b.jsx)(f.LoadingSpinner,{className:"mx-auto mb-4 text-primary",size:48}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading..."})]})}):g?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["default",()=>g],47996),a.s(["default",0,()=>{let{user:a,logout:c}=(0,e.useAuth)();return(0,b.jsx)("header",{className:"bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-lg shadow-slate-200/20 sticky top-0 z-50",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-primary drop-shadow-sm",children:"Radial Code"}),(0,b.jsx)("span",{className:"ml-4 text-slate-600 font-medium bg-slate-100/50 px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:"Admin Portal"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("span",{className:"text-slate-700 font-medium bg-white/60 px-4 py-2 rounded-lg backdrop-blur-sm shadow-sm",children:["Welcome, ",a?.username||a?.email]}),(0,b.jsx)("button",{onClick:c,className:"bg-primary/90 text-white px-6 py-2 rounded-lg hover:bg-primary transition-all duration-300 shadow-lg shadow-primary/20 hover:shadow-primary/30 backdrop-blur-sm transform hover:-translate-y-0.5 font-medium",children:"Logout"})]})]})})})}],38679)},18240,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.s(["default",0,({tabs:a,defaultTab:d})=>{let[e,f]=(0,c.useState)(d||a[0]?.id);return(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("div",{className:"border-b border-slate-200/50 bg-slate-50/30 rounded-t-xl backdrop-blur-sm",children:(0,b.jsx)("nav",{className:"-mb-px flex space-x-2 p-2",children:a.map(a=>(0,b.jsx)("button",{onClick:()=>f(a.id),className:`py-3 px-6 rounded-lg font-semibold text-sm transition-all duration-300 backdrop-blur-sm ${e===a.id?"bg-primary/90 text-white shadow-lg shadow-primary/20 transform -translate-y-0.5":"text-slate-600 hover:text-primary hover:bg-white/60 hover:shadow-md transform hover:-translate-y-0.5"}`,children:a.label},a.id))})}),(0,b.jsx)("div",{className:"mt-8 p-2",children:a.find(a=>a.id===e)?.content})]})}])},73889,a=>{"use strict";var b=a.i(87924);a.s(["default",0,({headers:a,children:c})=>(0,b.jsx)("div",{className:"overflow-x-auto rounded-xl shadow-lg shadow-slate-200/50",children:(0,b.jsxs)("table",{className:"min-w-full bg-white/80 backdrop-blur-sm border border-slate-200/50",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"bg-slate-50/80 backdrop-blur-sm border-b border-slate-200/50",children:a.map((a,c)=>(0,b.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-slate-700 uppercase tracking-wider border-r border-slate-200/30 last:border-r-0 text-nowrap",children:a},c))})}),(0,b.jsx)("tbody",{className:"bg-white/60 backdrop-blur-sm divide-y divide-slate-200/30",children:c})]})})])},83388,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(47996),f=a.i(38679),g=a.i(18240),h=a.i(73889),i=a.i(63804),j=a.i(53250),k=a.i(77548);function l({params:a}){let[e,l]=(0,c.useState)(null),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(""),u=(0,d.useRouter)();(0,c.useEffect)(()=>{a.then(({id:a})=>t(a))},[a]);let v=(0,c.useCallback)(async()=>{if(s)try{let[a,b,c]=await Promise.all([j.programs.getAll(),j.students.getByProgram(parseInt(s)),j.certificates.getByProgram(parseInt(s))]),d=a.data.find(a=>a.id===parseInt(s));l(d),n(b.data),p(c.data)}catch(a){console.error("Error loading data:",a)}finally{r(!1)}},[s]);(0,c.useEffect)(()=>{s&&v()},[s,v]);let w=async a=>{if(confirm("Are you sure you want to delete this student?"))try{await j.students.delete(a),v()}catch(a){console.error("Error deleting student:",a),alert("Error deleting student")}},x=async a=>{if(e)try{let b=(0,k.generateUniqueId)(),c=await (0,k.generateCertificate)(a.attributes.name,e.attributes.name,e.attributes.date,e.attributes.venue,b);await j.certificates.create({student:a.id,program:e.id,uniqueId:b,isActive:!1});let d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`certificate-${a.attributes.name}-${b}.pdf`,f.click(),URL.revokeObjectURL(d),v()}catch(a){console.error("Error generating certificate:",a),alert("Error generating certificate")}},y=async a=>{try{await j.certificates.update(a.id,{isActive:!a.attributes.isActive}),v()}catch(a){console.error("Error updating certificate:",a),alert("Error updating certificate")}},z=async()=>{if(e)try{let a="Ready"===e.attributes.certificateStatus?"Not Ready":"Ready";await j.programs.update(e.id,{certificateStatus:a}),v()}catch(a){console.error("Error updating program certificate status:",a),alert("Error updating certificate status")}};if(q||!e)return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50",style:{backgroundImage:`
          radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
          radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
        `},children:[(0,b.jsx)(f.default,{}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto py-16 px-4",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-12 max-w-sm mx-auto",children:[(0,b.jsx)("div",{className:"animate-spin text-4xl mb-4",children:"âš¡"}),(0,b.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading program management..."})]})})})]});let A=[{id:"students",label:"Student List",content:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-medium text-primary",children:["Registered Students (",m.length,")"]}),(0,b.jsx)(i.Button,{onClick:()=>{let a=new Blob([[["Name","Email","Phone","College","Course","Submitted On"],...m.map(a=>[a.attributes.name,a.attributes.email,a.attributes.phone,a.attributes.college,a.attributes.course,new Date(a.attributes.submittedOn).toLocaleDateString()])].map(a=>a.join(",")).join("\n")],{type:"text/csv"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`students-${e?.attributes.name}-${Date.now()}.csv`,c.click(),URL.revokeObjectURL(b)},children:"Export CSV"})]}),0===m.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No students registered yet."}):(0,b.jsx)(h.default,{headers:["Name","Email","Phone","College","Course","Submitted On","Actions"],children:m.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.attributes.name}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.attributes.email}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.attributes.phone}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.attributes.college}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.attributes.course}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.attributes.submittedOn).toLocaleDateString()}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,b.jsx)(i.Button,{variant:"secondary",className:"text-xs",onClick:()=>x(a),children:"Generate Certificate"}),(0,b.jsx)(i.Button,{variant:"danger",className:"text-xs",onClick:()=>w(a.id),children:"Delete"})]})]},a.id))})]})},{id:"certificates",label:"Certificates",content:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-primary mb-4",children:"Certificate Management"}),0===o.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No certificates generated yet."}):(0,b.jsx)(h.default,{headers:["Student","Certificate ID","Status","Generated On","Actions"],children:o.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.attributes.student.data.attributes.name}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:a.attributes.uniqueId}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${a.attributes.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:a.attributes.isActive?"Active":"Inactive"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(a.attributes.createdAt).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,b.jsx)(i.Button,{variant:a.attributes.isActive?"danger":"primary",className:"text-xs",onClick:()=>y(a),children:a.attributes.isActive?"Deactivate":"Activate"})})]},a.id))})]})},{id:"settings",label:"Settings",content:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-primary mb-4",children:"Program Settings"}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Program Name"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.attributes.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:new Date(e.attributes.date).toLocaleDateString()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Venue"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.attributes.venue})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Public URL"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-primary font-mono",children:["/program/",e.attributes.slug]})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:e.attributes.description})]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,b.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Certificate Status"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600 mb-2",children:["Current Status:",(0,b.jsx)("span",{className:`ml-2 inline-flex px-3 py-1 text-xs font-bold rounded-full ${"Ready"===e.attributes.certificateStatus?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"}`,children:e.attributes.certificateStatus})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Ready"===e.attributes.certificateStatus?"Students can download their certificates from the public portal.":'Students will see "Certificates Not Ready" on the public portal.'})]}),(0,b.jsx)(i.Button,{variant:"Ready"===e.attributes.certificateStatus?"danger":"primary",onClick:z,children:"Ready"===e.attributes.certificateStatus?"Disable Certificates":"Enable Certificates"})]})]})]})}];return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50",style:{backgroundImage:`
        radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%)
      `},children:[(0,b.jsx)(f.default,{}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"bg-white/60 backdrop-blur-sm rounded-2xl p-6 shadow-lg shadow-slate-200/50 border border-white/30 flex-1 mr-6",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-primary drop-shadow-sm mb-2",children:e.attributes.name}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 text-slate-600",children:[(0,b.jsxs)("span",{className:"bg-slate-100/70 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm",children:["ðŸ“… ",new Date(e.attributes.date).toLocaleDateString()]}),(0,b.jsxs)("span",{className:"bg-slate-100/70 px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm",children:["ðŸ“ ",e.attributes.venue]})]})]}),(0,b.jsx)(i.Button,{variant:"secondary",onClick:()=>u.push("/admin/dashboard"),children:"â† Back to Dashboard"})]})}),(0,b.jsx)("div",{className:"bg-white/70 backdrop-blur-lg rounded-2xl shadow-xl shadow-slate-300/20 border border-white/20 p-8",children:(0,b.jsx)(g.default,{tabs:A})})]})]})}function m({params:a}){return(0,b.jsx)(e.default,{children:(0,b.jsx)(l,{params:a})})}a.s(["default",()=>m])}];

//# sourceMappingURL=_c1098ba4._.js.map